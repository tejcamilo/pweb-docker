<%- include('../components/header.ejs',{ title: 'UR Deporte y Cultura | Usuarios', excludeMainStyles: true })  -%>
<%- include('../components/menuNavegacion.ejs') -%>
<link rel="stylesheet" href="/css/user2.css">
<link rel="stylesheet" href="https://cdn.datatables.net/2.1.8/css/dataTables.dataTables.css">
<body>
    <div id="table-container">
        <h1>Lista de Integrantes</h1>
        <table id="example" class="display" style="width:100%">
            <thead>
                <tr>
                    <th>Nombre</th>
                    <th>Apellido</th>
                    <th>Correo</th>
                    <th>Estado</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <% grupo.integrantes.forEach(integrante => { %>
                    <% if (!integrante.isAdmin) { %>
                        <tr>
                            <td><%= integrante.nombre %></td>
                            <td><%= integrante.apellido %></td>
                            <td><%= integrante.correo %></td>
                            <td><%= integrante.estado ? 'Activo' : 'Inactivo' %></td>
                            <td>
                                <form action="/grupos/eliminarIntegrante/<%= grupo._id %>/<%= integrante._id %>" method="post">
                                    <button type="submit" class="formButton" id="formButtonRojo">Eliminar</button>
                                </form>
                            </td>
                        </tr>
                    <% } %>
                <% }) %>
            </tbody>
        </table>
    </main>
    <footer>
        <%- include('../components/footer.ejs') %>
    </footer>

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- DataTables JS -->
    <script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>

    <!-- Include jQuery -->
    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>

    <!-- Include DataTables JavaScript -->
    <script src="https://cdn.datatables.net/2.1.8/js/dataTables.js"></script>

    <!-- Initialize DataTable -->
    <script>
    $(document).ready(function () {
        new DataTable('#example');
    });
    </script>
</body>
</html>